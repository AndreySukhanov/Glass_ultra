# üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å RAG —Å —Ä–µ–∑—é–º–µ

## –ü—Ä–æ–±–ª–µ–º–∞

–í—ã —Å–ø—Ä–æ—Å–∏–ª–∏: "–ü–æ—Å–ª–µ–¥–Ω–µ–µ –º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã –ê–Ω–¥—Ä–µ—è"

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∏–ª–æ: "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –Ω–µ—Ç" ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–æ —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ **—Å–∫—Ä–∏–Ω—à–æ—Ç**, –∞ –Ω–µ –Ω–∞ **—Ñ–∞–π–ª —Ä–µ–∑—é–º–µ**.

## –ü—Ä–∏—á–∏–Ω–∞

**RAG —Ä–∞–±–æ—Ç–∞–µ—Ç**, –Ω–æ **—Ñ–∞–π–ª —Ä–µ–∑—é–º–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω** –≤ Glass!

RAG –∫–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
```javascript
const attachments = fileAttachmentRepository.getActiveAttachments(user.uid);
if (attachments && attachments.length > 0) {
    // –ò—â–µ—Ç –≤ RAG
} else {
    // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç
}
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ä–µ–∑—é–º–µ —á–µ—Ä–µ–∑ UI

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Glass
```
–ù–∞–∂–º–∏—Ç–µ Ctrl + \ (Windows) –∏–ª–∏ Cmd + \ (Mac)
```

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ Settings
- –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É **Settings** (—à–µ—Å—Ç–µ—Ä—ë–Ω–∫–∞)

### –®–∞–≥ 3: –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "File Attachments"
–í –æ–∫–Ω–µ Settings –±—É–¥–µ—Ç —Ä–∞–∑–¥–µ–ª:
```
üìé File Attachments
   + Add File
```

### –®–∞–≥ 4: –î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª —Ä–µ–∑—é–º–µ
1. –ù–∞–∂–º–∏—Ç–µ **+ Add File**
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª —Ä–µ–∑—é–º–µ (PDF, DOCX, TXT)
3. –ü–æ–¥–æ–∂–¥–∏—Ç–µ ~1-2 —Å–µ–∫—É–Ω–¥—ã (–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤ RAG)

–í—ã —É–≤–∏–¥–∏—Ç–µ:
```
‚úÖ resume.pdf (–∞–∫—Ç–∏–≤–Ω–æ)
```

### –®–∞–≥ 5: –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å
–¢–µ–ø–µ—Ä—å –∑–∞–∫—Ä–æ–π—Ç–µ Settings –∏ —Å–ø—Ä–æ—Å–∏—Ç–µ:
```
"–ü–æ—Å–ª–µ–¥–Ω–µ–µ –º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã –ê–Ω–¥—Ä–µ—è"
```

## –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º

### –î–æ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞:
```
User: "–ü–æ—Å–ª–µ–¥–Ω–µ–µ –º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã –ê–Ω–¥—Ä–µ—è"
‚Üì
[AskService] attachments.length = 0
‚Üì
[AskService] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∫—Ä–∏–Ω—à–æ—Ç —ç–∫—Ä–∞–Ω–∞
‚Üì
AI: "–ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –Ω–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏"
```

### –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞:
```
User: "–ü–æ—Å–ª–µ–¥–Ω–µ–µ –º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã –ê–Ω–¥—Ä–µ—è"
‚Üì
[AskService] attachments.length = 1 (resume.pdf)
‚Üì
[AskService] Using RAG to retrieve relevant chunks...
‚Üì
[RAGService] –ò—â–µ—Ç –ø–æ 15 —á–∞–Ω–∫–∞–º —Ä–µ–∑—é–º–µ
‚Üì
[RAGService] –ù–∞—Ö–æ–¥–∏—Ç —Ç–æ–ø-5 —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —á–∞–Ω–∫–æ–≤
‚Üì
AI: "–ü–æ—Å–ª–µ–¥–Ω–µ–µ –º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã: [–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ —Ä–µ–∑—é–º–µ]"
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ (DevTools)

–û—Ç–∫—Ä–æ–π—Ç–µ DevTools (Ctrl+Shift+I) –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:

### –î–æ –∑–∞–≥—Ä—É–∑–∫–∏:
```
[AskService] No attachments found
```

### –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏:
```
[RAGService] Successfully added document: resume.pdf
[RAGService] Created 15 chunks from document
[AskService] Using RAG to retrieve relevant chunks...
[AskService] Added 5 relevant chunks from 1 documents
```

## üìÅ –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ñ–∞–π–ª—ã

### –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
–ö–æ–ø–∏—Ä—É—é—Ç—Å—è –≤:
```
Windows: C:\Users\YourUser\AppData\Roaming\Glass\uploads\
Mac: ~/Library/Application Support/Glass/uploads/
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
```
Windows: C:\Users\YourUser\AppData\Roaming\Glass\pickleglass.db
Mac: ~/Library/Application Support/Glass/pickleglass.db

–¢–∞–±–ª–∏—Ü–∞: file_attachments
–ü–æ–ª—è: id, uid, filename, filepath, content, mimetype, size, is_active, created_at
```

### Vector Store (RAG)
```
Windows: C:\Users\YourUser\AppData\Roaming\Glass\rag_index\
Mac: ~/Library/Application Support/Glass/rag_index/

–§–∞–π–ª: index.json (HNSW vector index)
```

## üéØ –¢–µ—Å—Ç–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–∑—é–º–µ –ê–Ω–¥—Ä–µ—è –ø–æ–ø—Ä–æ–±—É–π—Ç–µ:

1. **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ñ–∞–∫—Ç—ã:**
   - "–ü–æ—Å–ª–µ–¥–Ω–µ–µ –º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã –ê–Ω–¥—Ä–µ—è"
   - "–ö–∞–∫–∏–µ –Ω–∞–≤—ã–∫–∏ —É –ê–Ω–¥—Ä–µ—è –≤ Python?"
   - "–ì–¥–µ —É—á–∏–ª—Å—è –ê–Ω–¥—Ä–µ–π?"

2. **–°–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:**
   - "–°–∫–æ–ª—å–∫–æ –ª–µ—Ç –æ–ø—ã—Ç–∞ —Ä–∞–±–æ—Ç—ã —É –ê–Ω–¥—Ä–µ—è?"
   - "–ö–∞–∫–∏–µ –ø—Ä–æ–µ–∫—Ç—ã –ê–Ω–¥—Ä–µ–π –¥–µ–ª–∞–ª –Ω–∞ Python?"
   - "–ü–µ—Ä–µ—á–∏—Å–ª–∏ –≤—Å–µ –∫–æ–º–ø–∞–Ω–∏–∏ –≥–¥–µ —Ä–∞–±–æ—Ç–∞–ª –ê–Ω–¥—Ä–µ–π"

3. **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫:**
   - "–û–ø—ã—Ç —Å –º–∞—à–∏–Ω–Ω—ã–º –æ–±—É—á–µ–Ω–∏–µ–º" (–¥–æ–ª–∂–µ–Ω –Ω–∞–π—Ç–∏ ML/AI —Å–µ–∫—Ü–∏–∏)
   - "–ó–Ω–∞–Ω–∏–µ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö" (–¥–æ–ª–∂–µ–Ω –Ω–∞–π—Ç–∏ SQL/PostgreSQL)
   - "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ" (–¥–æ–ª–∂–µ–Ω –Ω–∞–π—Ç–∏ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç)

## ‚ö†Ô∏è –í–∞–∂–Ω–æ!

1. **–§–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ê–ö–¢–ò–í–ù–´–ú** –≤ UI (–≥–∞–ª–æ—á–∫–∞ ‚úÖ)
2. **RAG –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ** ‚Äî –µ—Å–ª–∏ —Ñ–∞–π–ª –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω –î–û —É—Å—Ç–∞–Ω–æ–≤–∫–∏ RAG, —É–¥–∞–ª–∏—Ç–µ –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –∑–∞–Ω–æ–≤–æ
3. **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã**: PDF, DOCX, TXT, MD, CSV, JSON, XML, HTML

## üêõ Troubleshooting

### "No relevant chunks found"
**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–Ω–∏–∑—å—Ç–µ `minScore` –≤ `askService.js:303`:
```javascript
minScore: 0.2,  // –±—ã–ª–æ 0.3
```

### "RAG is not initialized"
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ OpenAI API –∫–ª—é—á –≤ `.env`:
```bash
OPENAI_API_KEY=sk-proj-your-key-here
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ fallback TF-IDF (—Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ API):
```javascript
// –í ragService.js –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è TF-IDF –µ—Å–ª–∏ –Ω–µ—Ç OpenAI –∫–ª—é—á–∞
```

### –§–∞–π–ª –Ω–µ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DevTools Console:
```
[RAGService] Adding document: resume.pdf
[RAGService] Created N chunks
```

–ï—Å–ª–∏ –Ω–µ—Ç –ª–æ–≥–æ–≤ ‚Äî —Ñ–∞–π–ª –Ω–µ –±—ã–ª –æ–±—Ä–∞–±–æ—Ç–∞–Ω. –£–¥–∞–ª–∏—Ç–µ –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –∑–∞–Ω–æ–≤–æ.

---

## üìã –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

```
1. –û—Ç–∫—Ä–æ–π—Ç–µ Glass (Ctrl + \)
2. Settings ‚Üí File Attachments ‚Üí + Add File
3. –í—ã–±–µ—Ä–∏—Ç–µ resume.pdf
4. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 —Å–µ–∫
5. –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å: "–ü–æ—Å–ª–µ–¥–Ω–µ–µ –º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã –ê–Ω–¥—Ä–µ—è"
6. ‚úÖ AI –Ω–∞–π–¥—ë—Ç –æ—Ç–≤–µ—Ç –≤ —Ä–µ–∑—é–º–µ —á–µ—Ä–µ–∑ RAG!
```

---

**RAG –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ! –ü—Ä–æ—Å—Ç–æ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª —á–µ—Ä–µ–∑ UI.** üöÄ
